<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Blue Mountain Travel</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1 class="logo">Blue Mountain Travel</h1>
                <p class="tagline">Elevate Your Business Journey</p>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="flights.html">Flights</a></li>
                <li><a href="hotels.html">Hotels</a></li>
                <li><a href="bookings.html">My Bookings</a></li>
                <li><a href="profile.html" class="active">Profile</a></li>
                <li><a href="#" class="btn-login">Sign In</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1>My Profile</h1>
            <p>Manage your account and preferences</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="profile-container">
        <div class="container">
            <!-- Multiple Profiles Section -->
            <div class="profile-card" style="margin-bottom: 2rem;">
                <h3 style="color: var(--primary-color); margin-bottom: 1rem;">üë§ Manage Profiles</h3>
                <p class="text-muted" style="margin-bottom: 1rem;">Switch between profiles or create new ones</p>
                
                <!-- Profile Selector -->
                <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; margin-bottom: 1rem;">
                    <label for="profile-selector" style="font-weight: 500;">Select Profile:</label>
                    <select id="profile-selector" style="padding: 0.5rem 1rem; border: 1px solid #ddd; border-radius: 4px; min-width: 250px; font-size: 1rem;">
                        <option value="">Loading profiles...</option>
                    </select>
                    <button class="btn-search" onclick="switchProfile()" style="padding: 0.5rem 1rem;">Switch</button>
                </div>
                
                <!-- Profile List -->
                <div id="profiles-list" style="margin-top: 1.5rem; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1rem;">
                    <!-- Profiles will be loaded here -->
                </div>
                
                <!-- Add New Profile Button -->
                <div style="margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid #eee;">
                    <button class="btn-search" onclick="showCreateProfileModal()" style="background: #28a745;">+ Create New Profile</button>
                    <button class="btn-search" onclick="deleteCurrentProfile()" style="background: #dc3545; margin-left: 0.5rem;">Delete Current Profile</button>
                </div>
            </div>

            <div class="profile-card">
                <div class="profile-header">
                    <div class="profile-avatar" id="profile-avatar">JS</div>
                    <div class="profile-info">
                        <h2 id="profile-name">John Smith</h2>
                        <p id="profile-email">john.smith@company.com</p>
                        <p><strong id="profile-tier">Platinum Member</strong></p>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>Personal Information</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">First Name</span>
                            <span class="info-value" id="info-firstname">John</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Last Name</span>
                            <span class="info-value" id="info-lastname">Smith</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Email</span>
                            <span class="info-value" id="info-email">john.smith@company.com</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Phone</span>
                            <span class="info-value" id="info-phone">+1-555-0123</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Company</span>
                            <span class="info-value" id="info-company">Tech Corp</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Member ID</span>
                            <span class="info-value" id="info-userid">USR001</span>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Account Details</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Membership Tier</span>
                            <span class="info-value" id="info-tier">Platinum</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Member Since</span>
                            <span class="info-value">January 2020</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Total Bookings</span>
                            <span class="info-value" id="total-bookings">0</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Reward Points</span>
                            <span class="info-value">15,420</span>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Payment Information</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Credit Card</span>
                            <span class="info-value" id="info-card">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 9012</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Card Type</span>
                            <span class="info-value">Visa Business</span>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Security Information</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Password</span>
                            <span class="info-value" id="info-password">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Two-Factor Auth</span>
                            <span class="info-value" style="color: var(--danger-color);">Disabled</span>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Azure Storage Access</h3>
                    <p class="text-muted">Your documents are stored in Azure Blob Storage</p>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Storage Account</span>
                            <span class="info-value" id="storage-account">bluemountaintravel</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Profile Container</span>
                            <span class="info-value"><a href="#" id="profile-container-url" target="_blank">View Container</a></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Documents Container</span>
                            <span class="info-value"><a href="#" id="documents-container-url" target="_blank">View Container</a></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">SAS Token Expiry</span>
                            <span class="info-value">December 31, 2025</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="profile-card" style="margin-top: 2rem;">
                <h3 class="text-primary">Developer Tools</h3>
                <p class="text-muted">These tools expose sensitive data for security training purposes</p>
                <div style="margin-top: 1rem;">
                    <button class="btn-search" onclick="showRawUserData()" style="margin-right: 1rem;">View Raw User Data</button>
                    <button class="btn-search" onclick="showAzureConfig()">View Azure Configuration</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Profile Modal -->
    <div id="create-profile-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; justify-content: center; align-items: center;">
        <div style="background: white; padding: 2rem; border-radius: 8px; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto;">
            <h2 style="color: var(--primary-color); margin-bottom: 1.5rem;">Create New Profile</h2>
            <form id="create-profile-form" style="display: flex; flex-direction: column; gap: 1rem;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div>
                        <label for="new-firstName" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">First Name</label>
                        <input type="text" id="new-firstName" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                    </div>
                    <div>
                        <label for="new-lastName" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Last Name</label>
                        <input type="text" id="new-lastName" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                    </div>
                </div>
                <div>
                    <label for="new-email" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email</label>
                    <input type="email" id="new-email" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div>
                    <label for="new-password" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Password</label>
                    <input type="password" id="new-password" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div>
                    <label for="new-phone" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Phone</label>
                    <input type="tel" id="new-phone" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div>
                    <label for="new-company" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Company</label>
                    <input type="text" id="new-company" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                    <button type="submit" class="btn-search" style="flex: 1;">Create Profile</button>
                    <button type="button" class="btn-search" onclick="hideCreateProfileModal()" style="flex: 1; background: #6c757d;">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>Blue Mountain Travel</h4>
                    <p>Your trusted partner in business travel since 1995.</p>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="flights.html">Flights</a></li>
                        <li><a href="hotels.html">Hotels</a></li>
                        <li><a href="bookings.html">My Bookings</a></li>
                        <li><a href="profile.html">Profile</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Corporate Accounts</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <p>24/7 Support: <strong>1-800-BLUE-MTN</strong></p>
                    <p>Email: <strong>support@bluemountaintravel.com</strong></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Blue Mountain Travel. All rights reserved.</p>
                <p class="security-notice">‚ö†Ô∏è This is a demonstration website with intentional security vulnerabilities for training purposes.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>
